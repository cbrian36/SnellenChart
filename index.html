<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Web Snellen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="" />
</head>
<body>
    <div id="options">
      <div id="sizeOption">
        <label for="size">Device:</label>

        <select name="size" id="size">
        </select>
      </div>
      <div>
        <label for="scale">Scale:</label>
        <input name="scale" id="scale" value="10" type="number" pattern="[0-9.]*" inputmode="decimal">
        <button id="fixMyHeight">Fix</button>
        <div id="fixHeight">
          <label for="currentHeight">Current Height (cm):</label>
          <input name="currentHeight" id="currentHeight" value="" type="number" pattern="[0-9.]*" inputmode="decimal">
          </input>
      </div>
      </div>
      
      <div id="distanceOption">
        <label for="distance">Distance (cm):</label>

        <input name="distance" id="distance" value="140" type="number" pattern="[0-9.]*" inputmode="decimal">
        </input>
      </div>

      
    </div>
    <div id="Viewport">
        <h1 id="Letter">E</h1>
    </div>
    <div id="calibrationShape">
    </div>
    <div id="sizing">
      <div id="saveVATarget">
        <h5 id="sizingWriting">Size = 6/60 (Xcm)</h5></div>
      <br>
        <h5>add more options here: <a href="https://forms.gle/AJefepVoQmpu7SSy8">GForm</a></h5>
      <br>
      <h5>Swipe/Use Arrows</h5>
      <button onclick="openModal('HelpModal')">Help</button>
    </div>



    <div id="HelpModal" class="jw-modal">
        <div class="jw-modal-body">
            <h1>Web-browser Snellen Chart</h1>
            <h5>Swipe left/right or use left/right keyboard arrows to change letters </h5>
            <h5>Swipe up/down or use up/down keyboard arrows to make letters smaller or larger </h5>
            <h5>Type the distance you want to hold the screen at (in cm), default 1.5m</h5>
            <h5>Chose from the device dropdown to auto set the scale or calibrate as below</h5>
            <h5>To calibrate the scale: Double click "fix" and type in the actual size of the letter on the screen (in cm) 
              the system will then correctly size the chart for your device</h5>
            <h5>After calibrating, consider sending the correct scale for your device <a href="https://forms.gle/AJefepVoQmpu7SSy8">here</a> so others can use it</h5>
            <h5>Tap the score eg. "6/60" to save/
            <h5>Your defaults will be saved to your cookies for 1 year</h5>
            <h5><a href="https://github.com/coote-andrew/SnellenChart">Github Here</a></h5>
            <button onclick="closeModal()">Close</button>
        </div>
    </div>
    <div id="SaveList" class="jw-modal">
        <div class="jw-modal-body">
            <h1>List of saved VAs</h1>
            <button onclick="clearVA()">Clear List</button>
            <button onclick="closeModal()">Close</button>
            <div id="listOfVAs">
        
            </div>           
        </div>
    </div>
</body>

<script src="snellen.js"></script>
<style>
    @font-face {
    font-family: "optotype";
    src: url("Optician-Sans.woff") format("woff");
    }

    h1 {
        font-family: optotype;
    }
    h5 {
        font-family: optotype;
        color: grey;
    }
    #sizing {
        position: fixed;
        bottom: 0;
        width: 95vw;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        height: 10vh;
    }
    #Viewport {
        height: 70vh;
        width: 95vw;
        display: flex;
        justify-content: center;
        align-items: center;

    }
    label, select, input {
        font-family: optotype;
        height: 30px;
        padding: 0px;
        padding-left: 5px;
        
    }

  #options {
    display: flex;
    justify-content: center;
    align-items: flex-start;
  }


    select, input {
        border: 1px solid black;
    }

  #fixHeight {
    display: none;
  }
  button {
      font-family: optotype;
      color: grey;
  }

  .jw-modal {
    /* modals are hidden by default */
    display: none;

    /* modal container fixed across whole screen */
    position: fixed;
    inset: 0;

    /* z-index must be higher than everything else on the page */
    z-index: 10000;
    
    /* semi-transparent black background exposed by padding */
    background-color: rgba(0, 0, 0, .75);
    padding: 40px;

    /* enables scrolling for tall modals */
    overflow: auto;
  }
  
  .jw-modal.open {
      display: block;
  }
  
  .jw-modal-body {
      padding: 20px;
      background: #fff;
  }
  
  body.jw-modal-open {
      /* body overflow is hidden to hide main scrollbar when modal window is open */
      overflow: hidden;
  }

</style>
</html>
